<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0149)http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-analog-voice-ports-on-cisco-ios-routers-routing-calls-over-analog-voice-ports-part-4/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4</title>
<meta name="robots" content="noodp, noydir">
<meta name="description" content="Trunks Trunks are used to interconnect gateways or PBX systems to other gateways, PBX systems, or the PSTN. A trunk is a single physical or logical interface that contains several physical interfaces and connects to a single destination. This could […]">
<link rel="stylesheet" href="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/style.css" type="text/css" media="screen, projection">
<link rel="stylesheet" href="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/layout.css" type="text/css" media="screen, projection">
<!--[if lte IE 8]><link rel="stylesheet" href="http://what-when-how.com/wp-content/themes/thesis_182/lib/css/ie.css" type="text/css" media="screen, projection" /><![endif]-->
<link rel="shortcut icon" href="http://what-when-how.com/wp-content/uploads/2011/08/favicon.ico">
<link rel="alternate" type="application/rss+xml" title="what-when-how RSS Feed" href="http://feeds.feedburner.com/what-when-how">
<link rel="pingback" href="http://what-when-how.com/xmlrpc.php">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://what-when-how.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://what-when-how.com/wp-includes/wlwmanifest.xml">
<link rel="preload" href="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(1).txt" as="script"><script src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/osd.js"></script><script src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/ca-pub-3548356617924720.js"></script><script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(1).txt"></script><link rel="preload" href="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(2).txt" as="script"><script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(2).txt"></script><link rel="preload" href="http://pagead2.googlesyndication.com/pagead/js/r20190214/r20190131/show_ads_impl.js" as="script"></head>
<body>
<div id="header_area" class="full_width">
<div class="page">
<ul class="menu">
</ul>
	<div id="header">
		<p id="logo"><a href="http://what-when-how.com/">what-when-how</a></p>
		<p id="tagline">In Depth Tutorials and Information</p>
	</div>
</div>
</div>
<div id="content_area" class="full_width">
<div class="page">
	<div id="content_box">
		<div id="content" class="hfeed">

				   



						<script language="javascript">



						//	navigator.CustomTag = null;



						</script>				   				   



							<div class="post-213111 post type-post status-publish format-standard hentry category-cisco-voice-over-ip-cvoice post_box top" id="post-213111">
				<div class="headline_area">
					<h1 class="entry-title">Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4</h1>
				</div>
				<div class="format_text entry-content">

<script type="text/javascript">
    google_ad_client = "ca-pub-3548356617924720";
    google_ad_slot = "9774666650";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- Above the fold 728x90 -->
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(3).txt">
</script><ins id="aswift_0_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent;" data-ad-slot="9774666650"><ins id="aswift_0_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0px;width:728px;height:90px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource.html"></iframe></ins></ins>


<script type="text/javascript">
    google_ad_client = "ca-pub-3548356617924720";
    google_ad_slot = "9774666650";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- Above the fold 728x90 -->
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(3).txt">
</script><ins id="aswift_1_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent;" data-ad-slot="9774666650"><ins id="aswift_1_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0px;width:728px;height:90px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(1).html"></iframe></ins></ins>



<h2>Trunks</h2>
<p><strong>Trunks are used to interconnect</strong> gateways or PBX systems to other gateways, PBX systems, or the PSTN. A trunk is a single physical or logical interface that contains several physical interfaces and connects to a single destination. This could be a single FXO port that provides a single line connection between a Cisco gateway and a FXS port of small PBX system, a POTS device, or several T1 interfaces with 24 lines each in a Cisco gateway providing PSTN lines to several hundred subscribers.</p>
<p><strong>Trunk ports can be analog or digital and use a</strong> variety of signaling protocols. Signaling can be done using either the voice channel (in-band) or an extra dedicated channel (out-of-band). The available features depend on the signaling protocol in use between the devices.</p>
<p><strong>Figure 3-18</strong> illustrates a variety of possible trunk connections.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9111.jpg" target="_blank"><img title=" E&amp;M Trunks" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="583" alt=" E&amp;M Trunks" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9111_thumb.jpg" width="1024" border="0"></a></p>
<p><strong>Figure 3-18 E&amp;M Trunks</strong></p>
<p><strong>Consider the following characteristics of the trunks depicted in Figure 3-18:</strong></p>
<p><strong>■ If a subscriber at the London</strong> site places a call to the PSTN, the gateway uses one voice channel of the E1 R2 trunk interface.</p><!--Ad Injection:random-->
<div style="float: left; margin: 0px; padding: 0px; border-width: 0px;"><script type="text/javascript">
    google_ad_client = "ca-pub-3548356617924720";
    google_ad_slot = "9654707454";
    google_ad_width = 336;
    google_ad_height = 280;
</script>
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(3).txt">
</script><ins id="aswift_2_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent;" data-ad-slot="9654707454"><ins id="aswift_2_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0px;width:336px;height:280px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(2).html"></iframe></ins></ins></div><br clear="all">
<p><strong>■ If a subscriber of the legacy PBX system</strong> at the Chicago site needs to place a call to a subscriber with an IP phone connected to the Chicago gateway, the call will go via the E&amp;M trunk between the legacy PBX and the gateway.</p>
<p><strong>■ The Denver and the Chicago</strong> sites are connected to San Jose via Q Signaling (QSIG) to build up a common private numbering plan between those sites. Because Denver’s Cisco IP telephony rollout has not started yet, the QSIG trunk is established directly between San Jose’s gateway and Denver’s legacy PBX.</p>
<h3>Analog Trunks</h3>
<p><strong>Because many organizations continue to use analog devices</strong>, a requirement to integrate analog circuits with VoIP or IP telephony networks still exists. To implement a Cisco voice gateway into an analog trunk environment, the FXS, FXO, DID, and E&amp;M interfaces are commonly used, as illustrated in Figure 3-19.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9112.jpg" target="_blank"><img title="Analog Trunks" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="584" alt="Analog Trunks" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9112_thumb.jpg" width="1024" border="0"></a></p>
<p><strong>Figure 3-19 Analog Trunks</strong></p>
<p>PSTN carriers typically offer analog trunk features that can be supported on home phones. Table 3-5 presents a description of the common analog trunk features.</p>
<p><strong>Table 3-5 Analog Trunk Features</strong></p>
<p></p>
<table border="1">
<tbody>
<tr>
<td>
<p><strong>Feature</strong></p>
</td>
<td>
<p><strong>Description</strong></p>
</td>
</tr>
<tr>
<td>
<p>Caller ID</p>
</td>
<td>
<p>Caller ID allows users to see the calling number before answering the phone.</p>
</td>
</tr>
<tr>
<td>
<p>Message waiting</p>
</td>
<td>
<p>Two methods activate an analog message indicator:</p>
</td>
</tr>
<tr>
<td>
</td>
<td>
<p>■ High-DC voltage message-waiting indicator (MWI) light and frequency-shift keying (FSK) messaging.</p>
</td>
</tr>
<tr>
<td>
</td>
<td>
<p>■ Stuttered dial tone for phones without a visual indicator.</p>
</td>
</tr>
<tr>
<td>
<p>Call waiting</p>
</td>
<td>
<p>When a user is on a call and a new call comes in, the user hears an audible tone and can "click over" to the new caller.</p>
</td>
</tr>
<tr>
<td>
<p>Caller ID on call waiting</p>
</td>
<td>
<p>When a user is on a call, the name of the second caller is announced or the caller ID is shown.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table 3-5 Analog Trunk Features</strong></p>
<table border="1">
<tbody>
<tr>
<td>
<p><strong>Feature</strong></p>
</td>
<td>
<p><strong>Description</strong></p>
</td>
</tr>
<tr>
<td>
<p>Transfer</p>
</td>
<td>
<p>This feature includes both blind and supervised transfers using the standard established by Bellcore laboratories. The flash hook method is common with analog trunks.</p>
</td>
</tr>
<tr>
<td>
<p>Conference</p>
</td>
<td>
<p>Conference calls are initiated from an analog phone using flash hook or feature access codes.</p>
</td>
</tr>
<tr>
<td>
<p>Speed dial</p>
</td>
<td>
<p>A user can set up keys for commonly dialed numbers and dial these numbers directly from an analog phone.</p>
</td>
</tr>
<tr>
<td>
<p>Call forward all</p>
</td>
<td>
<p>Calls can be forwarded to a number within the dial plan.</p>
</td>
</tr>
<tr>
<td>
<p>Redial</p>
</td>
<td>
<p>A simple last-number redial can be activated from analog phones.</p>
</td>
</tr>
<tr>
<td>
<p>DID</p>
</td>
<td>
<p>Supported on E&amp;M and FXS DID ports.</p>
</td>
</tr>
</tbody>
</table>
<p></p>
<p><strong>Figure 3-20</strong> shows small business voice networks connected through a gateway to the PSTN. The voice network supports both analog phones and IP phones. The connection to the PSTN is through an FXO port, and the analog phone is connected to the small business network through an FXS port. The issue in this scenario is how the caller ID is passed to call destinations.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9113.jpg" target="_blank"><img title="Analog Trunks - Example" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="572" alt="Analog Trunks - Example" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9113_thumb.jpg" width="1024" border="0"></a></p>
<p><strong>Figure 3-20 Analog Trunks – Example</strong></p>
<p><strong>This example describes two calls; the first call is to an on-premises destination, and the second call is to an off-premises destination:</strong></p>
<p><strong>■ Call 1:</strong> Call 1 is from the analog phone to another phone on the premises. The FXS port is configured with a station ID name and station ID number. The name is John Smith, and the number is 555-0212. When a call is placed from the analog phone to another phone on the premises, an IP phone in this case, the caller name and number are displayed on the screen of the IP phone.</p>
<p><strong>■ Call 2:</strong> Call 2 is placed from the same analog phone, but the destination is off the premises on the PSTN. The FXO port forwards the station-ID name and station-ID number to the CO switch. The CO switch discards the station ID name and station ID number and replaces them with information it has configured for this connection.</p>
<p><strong>For inbound calls</strong>, the caller ID feature is supported on the FXO port in the gateway. If the gateway is configured for H.323, the caller ID is displayed on the IP phones and on the analog phones (if supported).</p>
<p><strong>Note </strong>Although the gateway supports the caller ID feature, Cisco Unified Communications Manager does not support this feature on FXO ports if the gateway is configured for Media Gateway Control Protocol (MGCP).</p>
<h2>Centralized Automated Message Accounting</h2>
<p><strong>A Centralized Automated Message Accounting (CAMA)</strong> trunk is a special analog trunk type originally developed for long-distance billing but now mainly used for emergency call services (911 and E911 services). You can use CAMA ports to connect to a Public Safety Answering Point (PSAP) for emergency calls. A CAMA trunk can send only outbound automatic number identification (ANI) information, which is required by the local public safety answering point (PSAP).</p>
<p><strong>CAMA interface cards and software</strong> configurations are targeted at corporate enterprise networks and at service providers and carriers who are creating new or supplementing existing networks with Enhanced 911 (E911) services. CAMA carries both calling and called numbers by using in-band signaling. This method of carrying identifying information enables the telephone system to send a station identification number to the PSAP via multifrequency (MF) signaling through the telephone company E911 equipment. CAMA trunks are currently used in 80 percent of E911 networks. The calling number is needed at the PSAP for two reasons:</p>
<p><strong>■ The calling number is used to reference</strong> the Automatic Location Identification (ALI) database to find the exact location of the caller and any extra information about the caller that might have been stored in the database.</p>
<p><strong>■ The calling number is used as a callback</strong> number in case the call is disconnected. A number of U.S. states have initiated legislation that requires enterprises to connect directly to the E911 network. The U.S. Federal Communications Commission (FCC) has announced model legislation that extends this requirement to all U.S. states. Enterprises in areas where the PSTN accepts 911 calls on ISDN trunks can use existing Cisco ISDN voice-gateway products because the calling number is an inherent part of ISDN.</p>
<p><strong>Note</strong> You must check local legal requirements when using CAMA.</p>
<p>Calls to emergency services are routed based on the calling number, not the called number. The calling number is checked against a database of emergency service providers that cross-references the service providers for the caller location. When this information is determined, the call is then routed to the proper PSAP, which dispatches services to the caller location.</p>
<p>During the setup of an E911 call, before the audio channel is connected, the calling number is transmitted to each switching point, known as a selective router, via CAMA.</p>
<p><strong>The VIC2-2FXO and</strong> VIC2-4FXO cards support CAMA via software configuration. CAMA support is also available for the Cisco 2800 Series and 3800 Series ISRs. It is common for E911 service providers to require CAMA interfaces to their network.</p>
<p><strong>Figure 3-21</strong> shows a site that has a T1 PRI circuit for normal inbound and outbound PSTN calls. Because the local PSAP requires a dedicated CAMA trunk for emergency (911) calls, all emergency calls are routed using a dial peer pointing to the CAMA trunk.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9114_thumb222.jpg" target="_blank"><img title="Configuring a CAMA Trunk" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="255" alt="Configuring a CAMA Trunk" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9114_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Figure 3-21 Configuring a CAMA Trunk</strong></p>
<p>The voice port 1/1/1 is the CAMA trunk. The actual configuration depends on the PSAP requirements. In this case, the digit 1 is used to signal the area code 312. The voice port is then configured for CAMA signaling using the signal cama command. Five options exist:</p>
<p><strong>■ KP-0-NXX-XXXX-ST: 7-digit ANI transmission.</strong> The Numbering Plan Area (NPA), or area code, is implied by the trunk group and is not transmitted.</p>
<p><strong>■ KP-0-NPA-NXX-XXXX-ST:</strong> 10-digit transmission. The E.164 number is fully transmitted.</p>
<p><strong>■ KP-0-NPA-NXX-XXXX-ST-KP-YYY-YYY-YYYY-ST:</strong> Supports CAMA signaling with ANI/Pseudo ANI (PANI).</p>
<p><strong>■ KP-2-ST:</strong> Default transmission when the CAMA trunk cannot get a corresponding Numbering Plan Digit (NPD) in the look-up table or when the calling number is fewer than 10 digits. (NPA digits are not available.)</p>
<p><strong>■ KP-NPD-NXX-XXXX-ST:</strong> 8-digit ANI transmission, where the NPD is a single MF digit that is expanded into the NPA. The NPD table is preprogrammed in the sending and receiving equipment (on each end of the MF trunk). For example: 0=415, 1=510, 2=650, 3=916 05551234 = (415) 555-1234, 15551234 = (510) 555-1234 The NPD value range is 0-3.</p>
<p><strong>When you use the NPD format</strong>, the area code needs to be associated with a single digit. You can preprogram the NPA into a single MF digit using the ani mapping voice port command. The number of NPDs programmed is determined by local policy as well as by the number of NPAs the PSAP serves. Repeat this command until all NPDs are configured or until the NPD maximum range is reached.</p>
<p><strong>In this example,</strong> the PSAP expects NPD signaling, with the area code 312 being represented by the digit 1.</p>
<p><strong>You could then complete the following steps to configure the voice port for CAMA operation:</strong></p>
<p><strong>Step 1.</strong> Configure a voice port for 911 calls.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9115_thumb222.png" target="_blank"><img title="tmp9115_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="97" alt="tmp9115_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9115_thumb222_thumb.png" width="640" border="0"></a></p>
<p><strong>Step 2.</strong> Configure a dedicated dial peer to route emergency calls using the CAMA trunk when a user dials "911."</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9116_thumb222.png" target="_blank"><img title="tmp9116_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="144" alt="tmp9116_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9116_thumb222_thumb.png" width="640" border="0"></a></p>
<p><strong>Step 3.</strong> Configure a dedicated "9911" dial peer to route all emergency calls using the CAMA trunk when a user dials "9911."</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9117_thumb222.png" target="_blank"><img title="tmp9117_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="142" alt="tmp9117_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9117_thumb222_thumb.png" width="640" border="0"></a></p>
<p><strong>Step 4.</strong> Configure a standard PSTN dial peer for all other inbound and outbound PSTN calls.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9118_thumb222.png" target="_blank"><img title="tmp9118_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="90" alt="tmp9118_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9118_thumb222_thumb.png" width="640" border="0"></a></p>
<p>Example 3-4 shows the complete CAMA trunk configuration. </p>
<p><strong>Example 3-4 CAMA Trunk Configuration</strong></p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9119.png" target="_blank"><img title="CAMA Trunk Configuration" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="494" alt="CAMA Trunk Configuration" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9119_thumb.png" width="1024" border="0"></a></p>
<h2>Direct Inward Dial</h2>
<p><strong>Typically,</strong> FXS ports connect to analog phones, but some carriers offer FXS trunks that support DID. The DID service is offered by telephone companies, and it enables callers to dial an extension directly on a PBX or a VoIP system (for example, Cisco Unified</p>
<p><strong>Communications Manager and Cisco</strong> IOS routers and gateways) without the assistance of an operator or automated call attendant. This service makes use of DID trunks, which forward only the last three to five digits of a phone number to the PBX, router, or gateway. For example, a company has phone extensions 555-1000 to 555-1999. A caller dials 555-1234, and the local CO forwards 234 to the PBX or VoIP system. The PBX or VoIP system then rings extension 234. This entire process is transparent to the caller.</p>
<p>An FXS DID trunk can receive only inbound calls, thus a combination of FXS, DID, and FXO ports is required for inbound and outbound calls. Two signaling types exist, loop-start and groundstart, with groundstart being the preferred method.</p>
<p><strong>Figure 3-22</strong> shows an analog trunk using an FXS DID trunk for inbound calls and a standard FXO trunk for outbound calls.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9120_thumb222.jpg" target="_blank"><img title="Configuring DID Trunks" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="208" alt="Configuring DID Trunks" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9120_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Figure 3-22 Configuring DID Trunks</strong></p>
<p>You could then complete the following steps to enable DID signaling on the FXS port: Step 1. Configure the FXS port for DID and wink-start.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9121_thumb222.jpg" target="_blank"><img title="tmp9121_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="76" alt="tmp9121_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9121_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Step 2.</strong> Configure the FXO port for groundstart signaling.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9122_thumb222.jpg" target="_blank"><img title="tmp9122_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="72" alt="tmp9122_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9122_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Step 3.</strong> Create an inbound dial peer using the FXS DID port. Note that direct inward dial is enabled.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9123_thumb222.jpg" target="_blank"><img title="tmp9123_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="145" alt="tmp9123_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9123_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Step 4.</strong> Create a standard outbound dial peer using the FXO port.</p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9124_thumb222.jpg" target="_blank"><img title="tmp9124_thumb[2][2][2]" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="104" alt="tmp9124_thumb[2][2][2]" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9124_thumb222_thumb.jpg" width="640" border="0"></a></p>
<p><strong>Example 3-5</strong> shows the complete DID trunk configuration.</p>
<p><strong>Example 3-5 DID Trunk Configuration</strong></p>
<p><a href="http://what-when-how.com/wp-content/uploads/2012/03/tmp9125.png" target="_blank"><img title="DID Trunk Configuration" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="396" alt="DID Trunk Configuration" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/tmp9125_thumb.png" width="1024" border="0"></a></p>

<script type="text/javascript">
    google_ad_client = "ca-pub-3548356617924720";
    google_ad_slot = "4305259831";
    google_ad_width = 200;
    google_ad_height = 90;
</script>
<!-- At end of article Link unit 200x90 -->
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(3).txt">
</script><ins id="aswift_3_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:200px;background-color:transparent;" data-ad-slot="4305259831"><ins id="aswift_3_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:200px;background-color:transparent;"><iframe width="200" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;border:0px;width:200px;height:90px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(3).html"></iframe></ins></ins>

<script type="text/javascript">
    google_ad_client = "ca-pub-3548356617924720";
    google_ad_slot = "4305259831";
    google_ad_width = 200;
    google_ad_height = 90;
</script>
<!-- At end of article Link unit 200x90 -->
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/f(3).txt">
</script><ins id="aswift_4_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:200px;background-color:transparent;" data-ad-slot="4305259831"><ins id="aswift_4_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:200px;background-color:transparent;"><iframe width="200" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_4" name="aswift_4" style="left:0;position:absolute;top:0;border:0px;width:200px;height:90px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(4).html"></iframe></ins></ins>


				</div>
			</div>

			<div id="comments">
			</div>
					<div class="prev_next post_nav">
						<p class="previous">Next post: <a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-analog-voice-ports-on-cisco-ios-routers-routing-calls-over-analog-voice-ports-part-5/" rel="prev">Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 5</a></p>
						<p>Previous post: <a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-analog-voice-ports-on-cisco-ios-routers-routing-calls-over-analog-voice-ports-part-3/" rel="next">Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 3</a></p>
					</div>
		</div>

		<div id="sidebars">
			<div id="sidebar_1" class="sidebar">
				<ul class="sidebar_list">
<li class="widget widget_nrc" id="related-links-by-category"><h3>Related Links</h3>			<ul>
				<li class="serif"><span class="cat-name"><a href="http://what-when-how.com/category/cisco-voice-over-ip-cvoice/" title="Cisco Voice over IP (CVOICE)">Cisco Voice over IP (CVOICE)</a></span><ul><li class="cat-item" id="related-cat-post-213379"><a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/voip-fundamentals-introducing-voice-over-ip-networks-part-1/" title="VoIP Fundamentals (Introducing Voice over IP Networks) Part 1">VoIP Fundamentals (Introducing Voice over IP Networks) Part 1</a></li><li class="cat-item" id="related-cat-post-213375"><a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/voip-fundamentals-introducing-voice-over-ip-networks-part-2/" title="VoIP Fundamentals (Introducing Voice over IP Networks) Part 2">VoIP Fundamentals (Introducing Voice over IP Networks) Part 2</a></li><li class="cat-item" id="related-cat-post-213359"><a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-voip-gateways-introducing-voice-over-ip-networks-part-1/" title="Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 1">Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 1</a></li><li class="cat-item" id="related-cat-post-213349"><a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-voip-gateways-introducing-voice-over-ip-networks-part-2/" title="Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 2">Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 2</a></li><li class="cat-item" id="related-cat-post-213333"><a href="http://what-when-how.com/cisco-voice-over-ip-cvoice/introducing-voip-gateways-introducing-voice-over-ip-networks-part-3/" title="Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 3">Introducing VoIP Gateways (Introducing Voice over IP Networks) Part 3</a></li></ul></li>			</ul>
			</li><li class="widget thesis_widget_google_cse" id="google-custom-search">
<h3>:: Search WWH ::</h3>
<style type="text/css">
@import url(http://www.google.com/cse/api/branding.css);
</style>
<div class="cse-branding-bottom" style="background-color:#FFFFFF;color:#000000">
  <div class="cse-branding-form">
    <form action="http://www.google.com/cse" id="cse-search-box" target="_blank">
      <div>
        <input type="hidden" name="cx" value="partner-pub-3548356617924720:u0h0be-i8eq">
        <input type="hidden" name="ie" value="ISO-8859-1">
        <input type="text" name="q" size="60">
        <input type="submit" name="sa" value="Search">
      </div>
    </form>
  </div>
  <div class="cse-branding-logo">
    <img src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/poweredby_FFFFFF.gif" alt="Google">
  </div>
  <div class="cse-branding-text">
    Custom Search
  </div>
</div>
</li>
				</ul>
			</div>
			<div id="sidebar_2" class="sidebar">
				<ul class="sidebar_list">
				</ul>
			</div>
		</div>
	</div>
</div>
</div>
<div id="footer_area" class="full_width">
<div class="page">
	<div id="footer">

<p><a href="http://what-when-how.com/help-unprivileged-children/" rel="nofollow">Help Unprivileged Children</a> &nbsp;¶&nbsp;

<a href="http://what-when-how.com/careers/" rel="nofollow">Careers</a> &nbsp;¶&nbsp;

<a href="http://what-when-how.com/privacy-statement/" rel="nofollow">Privacy Statement</a> &nbsp;¶&nbsp;

<a href="http://what-when-how.com/copyright-information/" rel="nofollow">Copyright Information</a></p>


<script type="text/javascript">
var sc_project=4900976; 
var sc_invisible=1; 
var sc_security="2107041e"; 
</script>
<script type="text/javascript" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a 
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/4900976/0/2107041e/1/"
alt="" /></a></div></noscript>

	</div>
</div>
</div>
<!--[if lte IE 8]>
<div id="ie_clear"></div>
<![endif]-->

<iframe id="google_osd_static_frame_4399946099390" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(5).html"></iframe></body><iframe id="google_shimpl" style="display: none;" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/saved_resource(6).html"></iframe><iframe id="google_esf" name="google_esf" src="./Introducing Analog Voice Ports on Cisco IOS Routers (Routing Calls over Analog Voice Ports) Part 4_files/zrt_lookup.html" data-ad-client="ca-pub-3548356617924720" style="display: none;"></iframe></html>